<%= render "shared/flash" %>

<h1>Weather Forecast Demo</h1>

<%= form_with(method: 'get', local: true) do %>
    <%= label :address, "Address" %><br>
    <%= text_field_tag(:address, @address || @default_address) %><br>
    <%= submit_tag("Submit") %>
<% end %>

<% if defined?(@weather) %>
    <ul>
        <li>Cached? <%= @cached %>
        <li>Temperature: <%= @weather[:temp] %> ℃</li>
        <li>Minimum Temperature: <%= @weather[:temp_min] %> ℃</li>
        <li>Maximum Temperature: <%= @weather[:temp_max] %> ℃</li>
        <li>Humidity: <%= @weather[:humidity] %>%</li>
        <li>Pressure: <%= @weather[:pressure] %> mbars</li>
        <li>Description: <%= @weather[:desc] %></li>
    </ul>
<% end %>